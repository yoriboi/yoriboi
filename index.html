<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš”ë¦¬ë³´ì´ ë ˆì‹œí”¼ë¶</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f7f7f7; margin: 0; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 420px; background-color: #fff; min-height: 100vh; padding: 30px 20px; box-shadow: 0 0 20px rgba(0,0,0,0.05); }
        .profile { text-align: center; margin-bottom: 30px; }
        .profile-img { width: 100px; height: 100px; border-radius: 50%; background: #eee; margin-bottom: 10px; }
        
        .card { display: flex; align-items: center; background: #fff; border: 1px solid #eee; border-radius: 12px; padding: 15px; margin-bottom: 10px; text-decoration: none; color: #333; transition: 0.2s; }
        .card:active { background: #f5f5f5; transform: scale(0.98); }
        .card-img { width: 50px; height: 50px; border-radius: 8px; margin-right: 15px; background: #ddd; object-fit: cover; }
        .card-title { font-weight: 600; font-size: 16px; }
        
        #status { text-align: center; color: #666; margin-top: 20px; font-weight: bold; }
        .error { color: red; background: #ffe6e6; padding: 10px; border-radius: 8px; font-size: 12px; text-align: left; }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile">
            <img src="https://github.com/yoriboi.png" class="profile-img">
            <h2>ìš”ë¦¬ë³´ì´</h2>
            <p>ë°ì´í„° ë¡œë”© í…ŒìŠ¤íŠ¸ ì¤‘...</p>
        </div>

        <div id="status">ë¡œë”© ì¤‘... (10ì´ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”)</div>
        <div id="link-list"></div>
    </div>

    <script>
        const list = document.getElementById('link-list');
        const status = document.getElementById('status');

        // 1. links.json ë¶ˆëŸ¬ì˜¤ê¸° ì‹œë„
        fetch('./links.json?v=' + new Date().getTime())
            .then(response => {
                if (!response.ok) throw new Error("íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ (" + response.status + ")");
                return response.json();
            })
            .then(data => {
                if (data.length === 0) throw new Error("ë°ì´í„°ê°€ ë¹„ì–´ìˆìŒ (Empty JSON)");
                render(data);
                status.style.display = 'none'; // ì„±ê³µí•˜ë©´ ìƒíƒœ ë©”ì‹œì§€ ìˆ¨ê¹€
            })
            .catch(error => {
                // 2. ì‹¤íŒ¨í•˜ë©´ ì—ëŸ¬ ë©”ì‹œì§€ ë„ìš°ê³ , ë¹„ìƒìš© ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
                console.error(error);
                status.innerHTML = `<div class="error">âš ï¸ ì—ëŸ¬ ë°œìƒ!<br>${error.message}</div>`;
                
                // ë¹„ìƒìš© ë°ì´í„° (í™”ë©´ í™•ì¸ìš©)
                const emergencyData = [
                    { title: "ğŸš¨ ë¹„ìƒìš© ë²„íŠ¼ (í™”ë©´ í…ŒìŠ¤íŠ¸)", link: "#", image: "" },
                    { title: "ë°ì´í„° ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤", link: "#", image: "" }
                ];
                render(emergencyData);
            });

        function render(items) {
            list.innerHTML = '';
            items.forEach(item => {
                let img = item.image || 'https://ui-avatars.com/api/?name=Link';
                list.innerHTML += `
                    <a href="${item.link}" class="card" target="_blank">
                        <img src="${img}" class="card-img" onerror="this.src='https://ui-avatars.com/api/?name=E'">
                        <div class="card-title">${item.title}</div>
                    </a>`;
            });
        }
    </script>
</body>
</html>
